计算机组成原理: 计算机 **专业基础课程**，学生必修的核心硬件课程。    

 **起到了承上启下的作用：**

**先修课程：** 

- 《数字电路》

- 《高级语言设计》 

后续课程：    

-  《操作系统》 

-  《接口与汇编语言》

-  《计算机系统结构》

##  概念解释：计算机系统结构 与 计算机组成

计算机系统结构
        主要研究软件硬件功能分配和对软硬件界面的确定。

计算机组成是计算机系统结构的逻辑实现。

- 当一个计算机系统把软件和硬件功能划分完以后，
- 它主要研究计算机各硬件部件的组成，以及之间的连接关系。

计算机实现是计算机组成的物理实现。
        对各个部件的硬件物理实现技术。


一个计算机系统结构
有不同的计算机组成方法。

一种计算机组成
有不同的计算机实现技术。

- 应用程序
- 操作系统
- 编译
- 指令系统
- 组成
- 现实

### 计算机系统结构 Computer Architecture
​       是从计算机系统的外部来研究计算机的一门学科。
​       从程序员角度观察到的计算机外特性 —— 概念性的属性和功能。
​       
​       对不同虚拟机层次程序员看到的外特性不完全相同。

### 计算机组成 Computer Organization （是我们将要学习的）
​       是从计算机系统的内部来研究计算机构成的。
​       从逻辑设计人员的角度来研究计算机各组成部分的构成和互联。

​       研究主要内容：运算方法、CPU组成、主存储器、
​                                 输入/输出设备和输入/输出接口等。

  课程以计算机组织结构为中心阐述基本概念和原理。具体讲述计算机系统中各大部件的组成原理、逻辑实现，设计方法及相互连接构成整机的技术，

◆目的
   ★掌握计算机的基本组成、内部结构和工作原理，建立计算机的空间、时间的整体概念。
   ★培养学生分析和设计计算机的能力。
◆重点章节与难点
   ★主存储器与高速缓冲存储器
   ★指令系统的设计
   ★CPU的内部结构与工作原理

### 各章节主要内容

1. ♦计算机的发展历程
   ♦计算机的分类；
   ♦计算机的硬件组成
   ♦计算机的层次结构
2. ♦进位计数制
   ♦数值数据和非数值数据的表示；
   ♦数值数据在计算机中的二进制运算方法和实现
   ♦数据校验码。
3. ♦存储器组织、分类和层次结构
   ♦主存的组成与工作原理
   ♦交叉存储器
   ♦高速缓冲存储器(Cache)
   ♦虚拟存储器技术简介
4. ♦指令格式
   ♦指令及操作数的寻址方式
   ♦指令的种类和功能
   ♦指令系统的设计
   ♦精简指令系统RISC。
5. ♦ CPU的功能与组成；
   ♦指令周期及指令执行过程
   ♦CPU控制部件设计的两种主要方法：
   ♦硬布线设计
   ♦微程序设计
6. ♦总线的基本概念
   ♦总线的类型和总线的控制方式等；
7. ♦输入输出系统组成
   ♦输入输出控制方式(程序查询、程序中断、DMA、和通道方式)
   ♦磁盘存储器。

（1）计算机组成原理：  主编 唐朔飞  高等教育出版社
（2）计算机组成原理： 主编 王诚    高等教育出版社
（3）计算机组织与结构：主编 王爱英  清华大学出版社
（4）计算机组织与结构：主编 白中英  科学出版社

# 第1章 计算机系统概论

1.1 计算机的发展历程

   计算机技术的飞速发展离不开其所依赖的器件技术的发展。在计算机界，人们普遍认为计算机的发展大致经历了四代的变化，而这一划分所依据的正是计算机所使用的基本元器件。可以说，器件技术是计算机发展的重要物质基础和技术保障。

第一代：电子管器件(Electron Tube )
第二代：晶体管器件(Transistor) 
第三代：中小规模集成电路(MSI、SSI)
第四代：大规模集成电路(LSI)、超大规模集成电路(VLSI)、巨大规模集成电路(ULSI)
第五代计算机：智能计算机
  当前是否进入第五代计算机时代？以何为标志？

ANIAC(Electronic Integrator And Calculator)
 电子数字积分器和计算器

  世界上第一台以齿轮驱动的计算机器是由德国人Wilhelm Schickard教授于1623年设计并建造的计算钟（Calculating Clock）。
  1642年法国数学家、物理学家帕斯卡发明的机械加法器Pascaline 。
  英国数学家巴贝奇Charles Babbage于1822年设计的差分机Difference Engine。
  1938年，德国工程师朱斯（Konrad Zuse）成功制造了第一台二进制计算机Z-1，此后他继续研制了Z系列计算机，其中Z-3型计算机是世界上第一台通用程序控制的机电计算机，它使用了2600个继电器，采用二进制进行运算，运算一次加法只用0.3秒。 

  电子计算机发展阶段是以其所采用的基本电子元器件及技术作为划分的基础。

| **发展阶段**          | **大致时间**          | **所采用的器件技术**      | **典型速度**       |
| --------------------- | --------------------- | ------------------------- | ------------------ |
| **1**                 | **1946****—****1957** | **真空管****/****电子管** | **几万次**         |
| **2**                 | **1958****—****1964** | **晶体管**                | **十几到几十万次** |
| **3**                 | **1965****—****1971** | **中小规模集成电路**      | **百万次**         |
| **4**                 | **1972****—****1977** | **大规模集成电路**        | **千万次**         |
| **1978****—****1991** | **超大规模集成电路**  | **亿次**                  |                    |
| **1991****—**         | **巨大规模集成电路**  | **十亿次以上**            |                    |

世界第一台电子计算机－ENIAC 埃尼阿克
宾夕法尼亚大学摩尔工程学院，莫奇利和埃克特领导的研究小组
由程序控制的电子数字计算机，全电子，不存储程序，十进制表示。

世界第一台电子计算机－ENIAC 埃尼阿克
宾夕法尼亚大学摩尔工程学院，莫奇利和埃克特领导的研究小组
由程序控制的电子数字计算机，全电子，不存储程序，十进制表示。

从这台计算机问世以来，计算机的发展经历了五代变化。

1、第一代 电子管计算机时代（1945-1950年后期）
	
	采用电子管作为基本部件，体积大，速度慢，可靠性低，
	确定了程序设计的基本方法，“数据处理机”开始得到应用。

​	运算速度：每秒钟几千次，几万次。

2、第二代 晶体管计算机时代（50年代后期到60年代初期）
	
	这个时代的计算机由电子管改为晶体管，大大地缩小了它
     的体积，降低了功耗，提高了速度和可靠性，价格不断下降；
	在此期间，“工业控制机”开始得到了应用。

​	运算速度：每秒几万次至几十万次。 	

​    第三代 中小规模集成电路计算机时代（60年代中期到70年代前期）

​	这个时期的计算机采用集成电路为基本器件。
​	可靠性进一步提高，体积进一步缩小，成本进一步下降，
​	集成电路的出现，形成计算机通用化，生产系列化，使用系统化，
​	这时“小型计算机”开始出现。

​	运算速度：每秒几十万次到几百万次

4、第四代 超大规模集成电路计算机时代（为1971年开始到如今）
	
	可靠性更进一步提高，体积更进一步缩小，成本更进一步降低，
	由几片大规模集成电路组成的“微型计算机”开始出现。

​	运算速度：每秒几百万次至几千万次。

  目前全球运算速度最快的计算机是神威·太湖之光”超级计算机
每秒运行12.5亿亿次/秒 。神威·太湖之光由40个运算机柜和8个网络机柜组成，其中，两侧各20个计算机柜和存储机柜、中间布置单列网络系统机柜，整个机房占地面积约605平方米

从器件发展而言，经历了五次更新换代

 → 电子管、继电器存储  
 → 晶体管磁介质存储
 → 集成电路  
 → 大规模和超大规模集成电路 
 → 智能计算机

从结构的发展而言，经历了：
    单个CPU单机系统 → 流水线机 → 多处理机 → 大规模的并行处理机
从技术的发展上而言，经历了：
  变址技术→ 中断技术→ 微程序技术→ 缓冲技术共享→ 重用技术→ 虚拟技术 

计算机的发展方向：

60年代：主要形式是数百万美元的大型机。
目前：台式电脑、服务器、嵌入式系统。

台式电脑拥有最大的市场：价格1000美元左右的个人电脑；
      10 000美元左右的工作站。良好的性价比。

服务器，互联网刺激了其发展：需提供可靠有效的服务；可扩展性，升级计算能力、主存容量、存储空间以及I/O带宽。
     目标：吞吐量，单位时间处理请求的数目。

嵌入式系统，安装在其它设备中的计算机，是计算机市场增长最快的(微波炉、洗衣机、打印机、网络交换机、汽车、掌上电脑、手机、Smart卡)。

嵌入式系统两个关键的特征：最小化存储器和最小化功耗的需求。

1964年戈登﹒摩尔提出摩尔定律：
      在芯片上所能集成的晶体管数目将会每隔18个月翻一翻。
性能每10年提高100倍，但价格基本不变。
用同样的价格，五年之后能买到性能高十倍的机器。
这一法则适用至今：1979-2001，22年精确符合，再适用十年。

发展趋势：硬件实现的比例越来越高，软件所占的成本上升。

硬件实现：速度快，灵活性差；软件实现：速度低，灵活性高。

随着大规模集成电路技术的发展和软件硬化的趋势，要明确划分计
算机系统软、硬件界限已经显得比较困难了。因为任何操作和指令
可以由软件来实现，也可以由硬件来实现。

发展思路：

提高速度，扩大存储容量，降低成本，提高系统可靠性，方便用户的使用。

有四种飞速发展的实现技术对现代计算机实现的影响最为深远：

集成电路逻辑技术，晶体管密度每年以35%增长，4年翻2番。芯片尺寸每年增长10~20％。使得每个芯片上晶体管每年增长50％。

半导体DRAM，其晶体密度每年增长40~60%，访问时间平均每十年减少1/3。每片的带宽随着延迟时间缩短而以其2倍的速度增长。

磁盘存储技术，存储密度最近每年100％增长，访问时间过去10年缩短了1/3。

网络技术，取决于交换和传输系统。延迟和带宽都能改进。

​	当代计算机的体系结构的形式是冯.诺依曼等人提出了计算机设计的一些基本思想，到目前为止大多数计算机仍沿用这一体制。

​     冯.诺依曼体制特点：

1、计算机由运算器、控制器、存储器、输入设备、输出设备五大基本部件组成。

2、引入存储程序概念。（计算机不仅可以存储数据也可以存储程序）
          将程序事先存入主存储器中，计算机在工作时自动高速从存储器中
          取出指令加以执行。

3、指令由操作码和地址码组成。
      指令在计算机中是顺序执行的，并受PC的统一控制。

4、指令和数据均用二进制表示。

5、指令和数据以同等地位存于存储器，可按地址寻访。

冯·诺伊曼其人
约翰·冯·诺依曼（John Von Neuman，1903－1957）
美藉匈牙利人，20世纪最重要的数学家之一，在现代计算机、博弈论和核武器等诸多领域内有杰出建树的最伟大的科学全才之一
“电子计算机之父”，“博弈论之父”
布达佩斯数学博士。先后执教于柏林大学和汉堡大学。历任普林斯顿大学、普林斯顿高级研究所教授，美国数学会主席，美国原子能委员会会员。美国全国科学院院士

典型冯.诺依曼计算机结构以运算器为中心：
输入输出设备与存储器之间的数据传送都途径运算器。

运算器、存储器、输入输出设备的操作以及它们之间的联系都由控制器集中控制。

现在的计算机结构（冯.诺依曼结构）

不改变的：存储程序（精华）

改变的是：以存储器为中心，总线结构，分散控制。

## 1.2 计算机的种类

计算机按照其用途分为通用计算机和专用计算机。

  专用计算机：主要是为某一专用领域设计的，在这一领域具有高性能或适应性，如一些专为图像处理设计的计算机，具有很高的图像处理速度；再如工控机，专为一些环境较为恶劣的工业控制领域而设计，具有防尘、防振、高可靠性等特点。

  通用计算机：则不是专为某一领域而设计，它(的可编程性)能适应各种应用的要求。

 对计算机种类的划分，更为传统和更为普遍的方法是按照1989年由IEEE科学巨型机委员会提出的运算速度分类法，将计算机分为巨型机、大型机、小型机、工作站和微型计算机。

超级计算机
用于科学计算领域，Gray-1，银河Ⅱ，曙光
大型计算机
多用户的通用计算机
小型计算机
体积小、成本低，通用性强
工作站
强大的图形功能
微型计算机
成本低、应用广
嵌入式计算机
成为其它设备的一部分

计算机系统的组成

计算机软件有两大类：系统软件和应用软件。

系统软件包括： 	

1、操作系统                  2、语言处理程序
3、标准库程序              4、服务性程序
5、数据库管理系统      6、计算机网络软件

汇编语言：面向机器
机器语言：面向机器
汇编语句与机器语句一一对应。

计算机语言按照与硬件相关程度由高到低分为机器语言、汇编语言和高级语言。 

高级语言是与机器无关的程序设计语言，采用一种更接近自然的表达方式表示数据的运算和程序的控制结构等  -- 高级语言

汇编语言是一种采用助记符表示的程序设计语言。汇编语言的指令和机器语言的指令在很大程度上是一一对应的。 --汇编语言

机器语言属于硬件机器级语言，是一种用二进制代码表示的能够被计算机硬件直接识别和执行的语言。  -- 机器语言